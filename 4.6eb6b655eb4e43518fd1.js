(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Iab2:function(t,e,a){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";function e(t,e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){c(n.response,e,a)},n.onerror=function(){console.error("could not download file")},n.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(a)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,c){var l=i.URL||i.webkitURL,b=document.createElement("a");b.download=o=o||t.name||"download",b.rel="noopener","string"==typeof t?(b.href=t,b.origin===location.origin?n(b):a(b.href)?e(t,o,c):n(b,b.target="_blank")):(b.href=l.createObjectURL(t),setTimeout(function(){l.revokeObjectURL(b.href)},4e4),setTimeout(function(){n(b)},0))}:"msSaveOrOpenBlob"in navigator?function(t,i,o){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),i);else if(a(t))e(t,i,o);else{var c=document.createElement("a");c.href=t,c.target="_blank",setTimeout(function(){n(c)})}}:function(t,a,n,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,n);var l="application/octet-stream"===t.type,b=/constructor/i.test(i.HTMLElement)||i.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||l&&b||o)&&"undefined"!=typeof FileReader){var r=new FileReader;r.onloadend=function(){var t=r.result;t=d?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=t:location=t,c=null},r.readAsDataURL(t)}else{var s=i.URL||i.webkitURL,u=s.createObjectURL(t);c?c.location=u:location.href=u,c=null,setTimeout(function(){s.revokeObjectURL(u)},4e4)}});i.saveAs=c.saveAs=c,t.exports=c})?n.apply(e,[]):n)||(t.exports=i)},jkDv:function(t,e,a){"use strict";a.r(e),a.d(e,"AdminModule",function(){return D});var n=a("ofXK"),i=a("fXoL"),o=a("M0IT"),c=a("tyNb"),l=a("/t3+"),b=a("bTqV"),d=a("NFeN"),r=a("XhcP"),s=a("MutI");function u(t,e){if(1&t&&(i.Tb(0,"mat-list-item",14),i.Tb(1,"div",15),i.Tb(2,"mat-icon",16),i.yc(3),i.Sb(),i.Tb(4,"span",17),i.yc(5),i.Sb(),i.Sb(),i.Sb()),2&t){const t=e.$implicit;i.kc("routerLink",t.link),i.Cb(3),i.zc(t.icon),i.Cb(2),i.Ac("",t.text,".")}}let p=(()=>{class t{constructor(t,e){this.api=t,this.router=e}ngOnInit(){this.pilih(),this.checkLogin()}pilih(){this.items=[{icon:"dashboard",text:"Dasboard",link:"/admin/dashboard"},{icon:"camera_enhance",text:"Product",link:"/admin/produk"}]}checkLogin(){this.api.get("bookswithauth/status").subscribe(t=>{},t=>{this.router.navigate(["/login"])})}logout(){confirm("Apakah Yakin Keluar Aplikasi")&&(localStorage.removeItem("appToken"),window.location.reload())}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(o.a),i.Nb(c.a))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-admin"]],decls:24,vars:9,consts:[[1,"example-header","sticky-top"],["mat-icon-button","",3,"click"],[1,"uk-width-expand","text-right"],["mat-button","",3,"click"],[1,"example-container"],["mode","side",1,"sidenav-left",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],[1,"avatar"],["src","https://material.angular.io/assets/img/examples/shiba1.jpg","alt","...",1,"rounded-circle","float-left"],[1,"name-admin","text-center","text-uppercase"],[1,"sidenav"],["class","text-decoration-none",3,"routerLink",4,"ngFor","ngForOf"],["mode","side",1,"example-sidenav",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],[2,"padding","20px","background-color","#bfbfbf"],[1,"text-decoration-none",3,"routerLink"],["role","alert",1,"alert"],[1,"icon","uk-text-middle"],[1,"uk-text-middle","h5","txt-sidenav"]],template:function(t,e){if(1&t){const t=i.Ub();i.Rb(0),i.Tb(1,"mat-toolbar",0),i.Tb(2,"button",1),i.ac("click",function(){return i.rc(t),i.pc(12).toggle()}),i.Tb(3,"mat-icon"),i.yc(4,"menu"),i.Sb(),i.Sb(),i.Tb(5,"span"),i.yc(6,"PlantsShop"),i.Sb(),i.Tb(7,"div",2),i.Tb(8,"button",3),i.ac("click",function(){return e.logout()}),i.yc(9,"Logout"),i.Sb(),i.Sb(),i.Sb(),i.Tb(10,"mat-sidenav-container",4),i.Tb(11,"mat-sidenav",5,6),i.Tb(13,"div",7),i.Ob(14,"img",8),i.Tb(15,"p",9),i.yc(16,"Mr. Petruk"),i.Sb(),i.Sb(),i.Tb(17,"div",10),i.Tb(18,"mat-nav-list"),i.xc(19,u,6,3,"mat-list-item",11),i.Sb(),i.Sb(),i.Sb(),i.Ob(20,"mat-sidenav",12,6),i.Tb(22,"mat-sidenav-content",13),i.Ob(23,"router-outlet"),i.Sb(),i.Sb(),i.Qb()}2&t&&(i.Cb(11),i.jc("position","start")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0),i.Cb(8),i.jc("ngForOf",e.items),i.Cb(1),i.jc("position","end")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0))},directives:[l.a,b.a,d.a,r.b,r.a,s.c,n.j,r.c,c.d,s.a,c.b],styles:[".example-container[_ngcontent-%COMP%]{position:absolute;top:60px;bottom:0;left:0;right:0}.example-sidenav[_ngcontent-%COMP%]{width:350px}.example-sidenav[_ngcontent-%COMP%], .sidenav-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sidenav-left[_ngcontent-%COMP%]{width:200px;background-color:#d9d9d9}.sidenav[_ngcontent-%COMP%]{margin-top:40px}.alert[_ngcontent-%COMP%]{margin-top:13px}.txt-sidenav[_ngcontent-%COMP%]{margin-left:7px}.pilihan[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.pilihan[_ngcontent-%COMP%]:hover{height:100%;width:100%;background-color:#999}.avatar[_ngcontent-%COMP%]{margin:17px 5px 30px}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:65px;width:65px}.avatar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:25px}.name-admin[_ngcontent-%COMP%]{margin-right:5px;padding-left:20px;text-align:start;font-weight:700;font-size:17px}"]}),t})();var g=a("Wp6s");let h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["app-dashboard"]],decls:4,vars:0,consts:[[1,"uk-text-large","uk-text-middle","text-monospace"]],template:function(t,e){1&t&&(i.Tb(0,"mat-card"),i.Tb(1,"mat-card-subtitle"),i.Tb(2,"p",0),i.yc(3,"DASHBOARD"),i.Sb(),i.Sb(),i.Sb())},directives:[g.a,g.d],styles:[""]}),t})();var f=a("w55g"),m=a("Iab2"),T=a("0IaG");let k=(()=>{class t{constructor(t,e,a){this.api=t,this.dialog=e,this.dialogData=a,this.loadingUpload=!1}ngOnInit(){console.log(this.dialogData)}onFileChange(t){t.target.files.length>0&&(this.selectedFile=t.target.files[0],console.log(this.selectedFile))}uploadFile(){let t=new FormData;t.append("file",this.selectedFile),this.loadingUpload=!0,this.api.upload(t).subscribe(t=>{this.updateProduct(t),console.log(t)},t=>{this.loadingUpload=!1,alert("Gagal menggunggah File")})}updateProduct(t){1==t.status?(this.updateBook(t),alert("File berhasil di Upload"),this.loadingUpload=!1,this.dialog.close()):(alert(t.message),this.dialog.close())}updateBook(t){this.api.put("books/"+this.dialogData.id,{url:t.url}).subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(o.a),i.Nb(T.g),i.Nb(T.a))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-file-uploder"]],decls:13,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"uk-flex","uk-flex-middle","uk-flex-center",2,"height","100px","outline","2px dashed #ccc","margin","10px",3,"click"],["type","file","id","file",2,"display","none",3,"change"],["fileInput",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){if(1&t){const t=i.Ub();i.Tb(0,"h1",0),i.yc(1,"Unggah File"),i.Sb(),i.Tb(2,"div",1),i.Tb(3,"div",2),i.ac("click",function(){return i.rc(t),i.pc(7).click()}),i.Tb(4,"span"),i.yc(5),i.Sb(),i.Sb(),i.Tb(6,"input",3,4),i.ac("change",function(t){return e.onFileChange(t)}),i.Sb(),i.Sb(),i.Tb(8,"div",5),i.Tb(9,"button",6),i.yc(10,"Cancel"),i.Sb(),i.Tb(11,"button",7),i.ac("click",function(){return e.uploadFile()}),i.yc(12),i.Sb(),i.Sb()}2&t&&(i.Cb(5),i.zc(e.selectedFile?e.selectedFile.name:"Pilih File"),i.Cb(6),i.jc("disabled",e.loadingUpload),i.Cb(1),i.zc(e.loadingUpload?"Uploading":"Upload"))},directives:[T.h,T.e,T.c,b.a,T.d],styles:[""]}),t})();var S=a("kmnG"),x=a("qFsG"),y=a("3Pt+");let v=(()=>{class t{constructor(t,e,a){this.dialogRef=t,this.data=e,this.api=a,this.loading=!1}ngOnInit(){}SaveData(){this.loading=!0,null==this.data.id?this.api.post("bookswithauth",this.data).subscribe(t=>{this.dialogRef.close(t),this.loading=!1},t=>{this.loading=!1,alert("Tidak dapat menambahkan data")}):this.api.put("bookswithauth",this.data).subscribe(t=>{this.dialogRef.close(t),console.log(t),this.loading=!1},t=>{alert("Tidak dapat memperbarui data"),this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(T.g),i.Nb(T.a),i.Nb(o.a))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-produk-detail"]],decls:32,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",2,"width","100%"],["matInput","","autocomplete","off","required","",3,"ngModel","ngModelChange"],["matInput","","type","number","autocomplete","off","required","",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(i.Tb(0,"h3",0),i.yc(1," Detail Produk\n"),i.Sb(),i.Tb(2,"div",1),i.Tb(3,"mat-form-field",2),i.Tb(4,"mat-label"),i.yc(5,"Judul"),i.Sb(),i.Tb(6,"input",3),i.ac("ngModelChange",function(t){return e.data.title=t}),i.Sb(),i.Sb(),i.Tb(7,"mat-form-field",2),i.Tb(8,"mat-label"),i.yc(9,"Penulis"),i.Sb(),i.Tb(10,"input",3),i.ac("ngModelChange",function(t){return e.data.author=t}),i.Sb(),i.Sb(),i.Tb(11,"mat-form-field",2),i.Tb(12,"mat-label"),i.yc(13,"Penerbit"),i.Sb(),i.Tb(14,"input",3),i.ac("ngModelChange",function(t){return e.data.publisher=t}),i.Sb(),i.Sb(),i.Tb(15,"mat-form-field",2),i.Tb(16,"mat-label"),i.yc(17,"Tahun Terbit"),i.Sb(),i.Tb(18,"input",3),i.ac("ngModelChange",function(t){return e.data.year=t}),i.Sb(),i.Sb(),i.Tb(19,"mat-form-field",2),i.Tb(20,"mat-label"),i.yc(21,"ISBN"),i.Sb(),i.Tb(22,"input",3),i.ac("ngModelChange",function(t){return e.data.isbn=t}),i.Sb(),i.Sb(),i.Tb(23,"mat-form-field",2),i.Tb(24,"mat-label"),i.yc(25,"Harga"),i.Sb(),i.Tb(26,"input",4),i.ac("ngModelChange",function(t){return e.data.price=t}),i.Sb(),i.Sb(),i.Sb(),i.Tb(27,"div",5),i.Tb(28,"button",6),i.yc(29,"Batal"),i.Sb(),i.Tb(30,"button",7),i.ac("click",function(){return e.SaveData()}),i.yc(31),i.Sb(),i.Sb()),2&t&&(i.Cb(6),i.jc("ngModel",e.data.title),i.Cb(4),i.jc("ngModel",e.data.author),i.Cb(4),i.jc("ngModel",e.data.publisher),i.Cb(4),i.jc("ngModel",e.data.year),i.Cb(4),i.jc("ngModel",e.data.isbn),i.Cb(4),i.jc("ngModel",e.data.price),i.Cb(4),i.jc("disabled",e.loading),i.Cb(1),i.zc(e.loading?"Menyimpan":"Simpan"))},directives:[T.h,T.e,S.b,S.e,x.b,y.c,y.m,y.i,y.k,y.l,T.c,b.a,T.d],styles:[""]}),t})();var w=a("Xa2L");function C(t,e){1&t&&(i.Tb(0,"div",2),i.Ob(1,"mat-spinner"),i.Sb())}function M(t,e){if(1&t){const t=i.Ub();i.Tb(0,"button",12),i.ac("click",function(){i.rc(t);const e=i.ec().$implicit;return i.ec(2).downloadFile(e)}),i.Tb(1,"mat-icon"),i.yc(2,"download"),i.Sb(),i.Sb()}}function O(t,e){if(1&t){const t=i.Ub();i.Tb(0,"tr"),i.Tb(1,"td"),i.xc(2,M,3,0,"button",9),i.Sb(),i.Tb(3,"td"),i.yc(4),i.Sb(),i.Tb(5,"td"),i.yc(6),i.Sb(),i.Tb(7,"td"),i.yc(8),i.Sb(),i.Tb(9,"td"),i.yc(10),i.Sb(),i.Tb(11,"td"),i.yc(12),i.Sb(),i.Tb(13,"td"),i.yc(14),i.Sb(),i.Tb(15,"td"),i.yc(16),i.Sb(),i.Tb(17,"td"),i.Tb(18,"button",10),i.ac("click",function(){i.rc(t);const a=e.$implicit;return i.ec(2).uploadFile(a)}),i.yc(19,"Upload"),i.Sb(),i.Tb(20,"button",10),i.ac("click",function(){i.rc(t);const a=e.$implicit,n=e.index;return i.ec(2).productDetail(a,n)}),i.yc(21,"Detail"),i.Sb(),i.Tb(22,"button",11),i.ac("click",function(){i.rc(t);const a=e.$implicit,n=e.index;return i.ec(2).productDelete(a.id,n)}),i.yc(23),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=e.$implicit,a=e.index,n=i.ec(2);i.Cb(2),i.jc("ngIf",""!=t.url),i.Cb(2),i.zc(a+1),i.Cb(2),i.zc(t.title),i.Cb(2),i.zc(t.author),i.Cb(2),i.zc(t.publisher),i.Cb(2),i.zc(t.year),i.Cb(2),i.zc(t.isbn),i.Cb(2),i.zc(t.price),i.Cb(6),i.jc("disabled",n.loadingDelete[a]),i.Cb(1),i.zc(n.loadingDelete[a]?"Proses":"Delete")}}function j(t,e){if(1&t){const t=i.Ub();i.Tb(0,"mat-card"),i.Tb(1,"mat-card-subtitle"),i.Tb(2,"p",3),i.yc(3,"PRODUK"),i.Sb(),i.Sb(),i.Tb(4,"mat-card-content"),i.Tb(5,"div",4),i.Ob(6,"span",5),i.Tb(7,"button",6),i.ac("click",function(){return i.rc(t),i.ec().productDetail({},-1)}),i.Tb(8,"mat-icon"),i.yc(9,"add"),i.Sb(),i.yc(10," Tambah Produk"),i.Sb(),i.Sb(),i.Tb(11,"table",7),i.Tb(12,"thead"),i.Tb(13,"tr"),i.Ob(14,"th"),i.Tb(15,"th"),i.yc(16,"NO"),i.Sb(),i.Tb(17,"th"),i.yc(18,"Judul"),i.Sb(),i.Tb(19,"th"),i.yc(20,"Penulis"),i.Sb(),i.Tb(21,"th"),i.yc(22,"Penerbit"),i.Sb(),i.Tb(23,"th"),i.yc(24,"Tahun Terbit"),i.Sb(),i.Tb(25,"th"),i.yc(26,"ISBN"),i.Sb(),i.Tb(27,"th"),i.yc(28,"Harga"),i.Sb(),i.Tb(29,"th"),i.yc(30,"Action"),i.Sb(),i.Sb(),i.Sb(),i.Tb(31,"tbody"),i.xc(32,O,24,10,"tr",8),i.Sb(),i.Sb(),i.Sb(),i.Sb()}if(2&t){const t=i.ec();i.Cb(32),i.jc("ngForOf",t.books)}}const P=[{path:"",component:p,children:[{path:"",pathMatch:"full",redirectTo:"admin/dashboard"},{path:"dashboard",component:h},{path:"produk",component:(()=>{class t{constructor(t,e,a){this.router=t,this.dialog=e,this.api=a,this.books=[],this.loading=!0,this.loadingDelete={},this.getBooks()}ngOnInit(){}getBooks(){this.loading=!0,this.api.get("bookswithauth").subscribe(t=>{this.books=t,this.loading=!1},t=>{this.loading=!1,alert("Ada Sebuah masalah saat pengambilan data")})}productDetail(t,e){this.dialog.open(v,{width:"400px",data:t}).afterClosed().subscribe(a=>{a&&(-1==e?this.books.push(a):this.books[e]=t)})}productDelete(t,e){confirm("Delete Item?")&&(this.loadingDelete[e]=!0,this.api.delete("bookswithauth").subscribe(t=>{this.books.splice(e,1),this.loadingDelete[e]=!1},t=>{this.loadingDelete[e]=!1,alert("Gagal menghapus data")}))}uploadFile(t){this.dialog.open(k,{width:"400px",data:t}).afterClosed().subscribe(t=>{})}downloadFile(t){m.saveAs("http://api.sunhouse.co.id/bookstore/"+t.url)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(c.a),i.Nb(T.b),i.Nb(o.a))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-produk"]],decls:2,vars:2,consts:[["class","uk-flex uk-flex-center uk-flex-middle","style","height: 450px;",4,"ngIf"],[4,"ngIf"],[1,"uk-flex","uk-flex-center","uk-flex-middle",2,"height","450px"],[1,"uk-text-large","uk-text-middle","text-monospace"],[1,"uk-flex"],[1,"uk-width-expand"],["mat-flat-button","","color","primary",3,"click"],[1,"uk-table","uk-table-responsive","uk-table-divider","uk-table-middle","uk-table-striped"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","","type","button",1,"text-primary","mr-1",3,"click"],["mat-button","","type","button",1,"text-warning",3,"disabled","click"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(i.xc(0,C,2,0,"div",0),i.xc(1,j,33,1,"mat-card",1)),2&t&&(i.jc("ngIf",e.loading),i.Cb(1),i.jc("ngIf",!e.loading))},directives:[n.k,w.b,g.a,g.d,g.b,b.a,d.a,n.j],styles:[""]}),t})()}]}];let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({imports:[[n.c,c.c.forChild(P),f.a,y.e]]}),t})()}}]);